\section{Declaraciones}

\begin{frame}[t,fragile]{Declaración}
\begin{itemize}
  \item Una \textgood{declaración} es una sentencia que introduce un nombre
        para una entidad en un alcance y especifica su tipo.
\begin{lstlisting}
int x; // x es una variable entera
vector<string> v; // v es un vector de cadenas
double area(double l, double a); // area es una función
\end{lstlisting}
  \item Una declaración puede incluir \textmark{un valor inicial}
        o el \textmark{cuerpo de una función}.
\begin{lstlisting}
int x = 2.5;
int y { 3.0 };
vector<string> v { "Carlos", "Daniel" };
double area(double l, double a) { return l * a; }
\end{lstlisting}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Declaración y uso}
\begin{itemize}
  \item Antes de usar una entidad este debe haber sido declarada.
\lstinputlisting{ejemplos/07-alcance/decl/main1.cpp}

  \mode<presentation>{\vfill}
  \item 5 errores:
    \begin{itemize}
      \item \texttt{cout no declarado en este ámbito}.
      \item \texttt{x no declarado en este ámbito}.
      \item \texttt{y no declarado en este ámbito}.
      \item \texttt{area no declarado en este ámbito}.
      \item \texttt{endl no declarado en este ámbito}.
    \end{itemize}

  \mode<presentation>{\vfill}
  \item \cppid{cout} y \cppid{endl} están \textmark{declarados} 
        en el archivo de cabecera \cppid{<iostream>}, 
        dentro del espacio de nombres \cppid{std}.
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Inclusión de cabecera estándar}
\lstinputlisting{ejemplos/07-alcance/decl/main2.cpp}
\begin{itemize}
  \item El archivo de cabecera \cppid{<iostream>} contiene todas las declaraciones
        de biblioteca para entrada/salida estándar.

  \mode<presentation>{\vfill}
  \item 3 errores:
    \begin{itemize}
      \item \texttt{x no declarado en este ámbito}.
      \item \texttt{y no declarado en este ámbito}.
      \item \texttt{area no declarado en este ámbito}.
    \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Declaraciones}

\begin{columns}[T]

\column{.5\textwidth}

\lstinputlisting{ejemplos/07-alcance/decl/main3.cpp}

\column{.5\textwidth}

\begin{itemize}
  \item Cambios:
    \begin{itemize}
      \item Declaración de variables \cppid{x}, e \cppid{y}.
      \item Declaración de función \cppid{area()}.
    \end{itemize}
  \item 0 errores de compilación.
  \item 1 error de enlace.
\end{itemize}

\end{columns}

\begin{lstlisting}[style=terminal]
main3.cpp:8: referencia a `area(double, double)' sin definir
collect2: error: ld returned 1 exit status
\end{lstlisting}
\end{frame}
